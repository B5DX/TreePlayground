<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TreeVisualizer - Nitromelon</title>
    <link rel="stylesheet" href="../static/css/index.css">
    <link rel="stylesheet" href="../static/css/button.css">
</head>

<body>
    <div id="TreePlayground">
        <div class="top-tool-bar">
            <select v-model="curTreeType" style="height: 40px;">
                <option v-for="status, ttype in availTreeTypes" v-text="ttype" :value="ttype" :disabled="!status">
                </option>
            </select>
            <!-- <button class="btn" type="button" @click="saveToHistory" style="cursor:not-allowed" title="unfinish"
                disabled>Save Tree</button> -->
            <button class="btn btn-primary" type="button" @click="reset">Reset</button>
            <button class="btn btn-primary" type="button" @click="loadSampleTree">Sample</button>
            <button class="btn btn-primary" type="button" @click="traversal(0)">先序遍历</button>
            <button class="btn btn-primary" type="button" @click="traversal(1)">中序遍历</button>
            <button class="btn btn-primary" type="button" @click="traversal(2)">后序遍历</button>
            <button class="btn btn-primary" type="button" @click="traversal(3)">层次遍历</button>
            <div style="width: 180px">
                <h4>Traversal Interval: <label v-text="trvlParams.interval + 'ms'">600ms</label></h4>
                <input type="range" min="200" max="1000" v-model.number="trvlParams.interval">
            </div>
        </div>
        <!-- Tree Visualization Part -->
        <div class="tree" @mousedown.self="onMouseDown($event)" @mousemove.self='onMouseMove($event)'
            @mouseup.self='onMouseLeave($event)'>
            <!-- Internal Tree Nodes -->
            <binnode v-for="(node, ind) in structInfo.nodes" :class="{'active-node': node.active}" :node="node"
                :key="'node' + ind" @remove-below="onRemoveBelow($event)" @remove-one="onRemoveOne($event)">
            </binnode>
            <!-- External Tree Nodes -->
            <extr-binnode v-for="(node, ind) in structInfo.extrNodes" :node="node" :key="'extNode' + ind"
                @extr-insert="onExtrInsert($event)">
            </extr-binnode>
            <!-- Internal Tree Edges -->
            <div class="left-edge" v-for="e in structInfo.edges[0]"
                :style="{'left': e[0]+'px', 'top': e[1]+'px', 'width': e[2]+'px', 'height': e[3]+'px'}"></div>
            <div class="right-edge" v-for="e in structInfo.edges[1]"
                :style="{'left': e[0]+'px', 'top': e[1]+'px', 'width': e[2]+'px', 'height': e[3]+'px'}"></div>

            <!-- External Tree Edges -->
            <div class="left-edge extr-edge" v-for="e in structInfo.extrEdges[0]"
                :style="{'left': e[0]+'px', 'top': e[1]+'px', 'width': e[2]+'px', 'height': e[3]+'px'}"></div>
            <div class="right-edge extr-edge" v-for="e in structInfo.extrEdges[1]"
                :style="{'left': e[0]+'px', 'top': e[1]+'px', 'width': e[2]+'px', 'height': e[3]+'px'}"></div>
        </div>
    </div>
</body>

<script src="../static/js/cycle.js"></script>
<script src="../static/js/vue.js"></script>
<script src="../static/vue/components.vue"></script>
<script src="./bundle.js"></script>
<script src="../static/js/indexVM.js"></script>

</html>