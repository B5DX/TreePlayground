!function(t){var e={};function r(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(2),i=r(4),n=r(1);s.Deque,n.BinTree,i.BST},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(2),i=r(3);function n(t){return null===t?-1:t.height}class o{constructor(t=null){null===t?(this._size=0,this._root=null):(this._size=1,this._root=new i.BinNode(t))}update_height(t){t.height=1+Math.max(n(t.lc),n(t.rc)),t.npl=t.lc&&t.rc?1+Math.min(t.lc.npl,t.rc.npl):0}update_height_above(t){for(;t;)this.update_height(t),t=t.parent}size(){return this._size}empty(){return!this._root}root(){return this._root}removeBelow(t){let e=t.parent;return e?(t==e.lc?e.lc=null:e.rc=null,this.update_height_above(e)):this._root=null,this._size-=t.size(),t.size()}insertAsRoot(t){return this._root=new i.BinNode(t),this._size=1,this._root}insertAsLC(t,e){return this._size++,t.insertAsLC(e),this.update_height_above(t),t.lc}insertAsRC(t,e){return this._size++,t.insertAsRC(e),this.update_height_above(t),t.rc}reAttachAsLC(t,e){t.lc=t,e&&(e.parent=t)}reAttachAsRC(t,e){t.rc=t,e&&(e.parent=t)}calStructInfo(){let t=[],e=[[],[]],r=[],i=[[],[]],o={nodes:t,edges:e,extrNodes:r,extrEdges:i};if(!this._root)return r.push({x:0,y:0,is_root:!0}),o;let h=new s.Deque;for(this._root&&h.push(this._root);!h.empty();){let s=h.shift();t.push(s);
//!!! Need to implement coordination calculation algorithm here
let o=80*Math.pow(2,n(s.lc))+6*s.data.toString().length,l=80*Math.pow(2,n(s.rc))+6*s.data.toString().length,c=80,u=s.x-o-(s.lc?6*s.lc.data.toString().length:0),a=s.x+l+(s.rc?6*s.rc.data.toString().length:0),_=s.y+c;s.lc?(h.push(s.lc),s.lc.x=u,s.lc.y=_,e[0].push([u,s.y,s.x-u,c-29])):(r.push({x:u,y:_,parent:s,is_lc:!0}),i[0].push([u,s.y,s.x-u,c-29])),s.rc?(s.rc.x=a,s.rc.y=_,h.push(s.rc),e[1].push([s.x,s.y,a-s.x,c-29])):(r.push({x:a,y:_,parent:s,is_lc:!1}),i[1].push([s.x,s.y,a-s.x,c-29]))}return o}static buildFromTreeJsonObj(t){if(null===t._root)return new this;let e=t._root,r=new this(t._root.data),s=[e],i=[r.root()];for(;s.length>0;){e=s.pop();let t=i.pop();e.lc&&(r.insertAsLC(t,e.lc.data),s.push(e.lc),i.push(t.lc)),e.rc&&(r.insertAsRC(t,e.rc.data),s.push(e.rc),i.push(t.rc))}return r}static preorderTraversal(t){let e=[],r=[t];for(;r.length>0;)for(t=r.pop();t;)e.push(t),t.rc&&r.push(t.rc),t=t.lc;return e}static inorderTraversal(t){let e=[],r=[];for(;t||r.length>0;){for(;t;)r.push(t),t=t.lc;t=r.pop(),e.push(t),t=t.rc}return e}static postorderTraversal(t){let e=[],r=[t];for(;r.length>0;){if(t.parent!=r[r.length-1])for(t=r[r.length-1];t;)t.rc&&r.push(t.rc),t.lc&&r.push(t.lc),t=t.lc?t.lc:t.rc;t=r.pop(),e.push(t)}return e}static levelTraversal(t){let e=[],r=new s.Deque([t]);for(;!r.empty();)t=r.shift(),e.push(t),t.lc&&r.push(t.lc),t.rc&&r.push(t.rc);return e}static genSampleTree(){let t=new o(1),e=t.insertAsLC(t.root(),2);return t.insertAsLC(e,3),t.insertAsRC(e,4),e=t.insertAsRC(t.root(),5),t.insertAsLC(e,6),t.insertAsRC(e,7),t}}e.BinTree=o,window.BinNode=i.BinNode,window.BinTree=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t=null){t&&0!==t.length?this._elem_in=t:this._elem_in=[],this._elem_out=[]}size(){return this._elem_in.length+this._elem_out.length}empty(){return 0===this.size()}push(t){this._elem_in.push(t)}unshift(t){this._elem_out.push(t)}pop(){return 0===this._elem_in.length&&(this._elem_in=this._elem_out,this._elem_in.reverse(),this._elem_out=[]),this._elem_in.pop()}shift(){return 0===this._elem_out.length&&(this._elem_out=this._elem_in,this._elem_out.reverse(),this._elem_in=[]),this._elem_out.pop()}}e.Deque=s,window.Deque=s},function(t,e,r){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Red=0]="Red",t[t.Black=1]="Black"}(s=e.RBColor||(e.RBColor={}));class i{constructor(t=null,e=null,r=null,n=null,o=0,h=0,l=s.Red){this.x=0,this.y=0,this.active=!1,this.data=t,this.parent=e,this.lc=r,this.rc=n,this.height=o,this.npl=h,this.color=l,this.nid=++i.N}static isRoot(t){return!t.parent}static isLC(t){return t.parent&&t===t.parent.lc}static isRC(t){return t.parent&&t===t.parent.rc}size(){let t=1;return this.lc&&(t+=this.lc.size()),this.rc&&(t+=this.rc.size()),t}insertAsLC(t){return this.lc=new i(t,this)}insertAsRC(t){return this.rc=new i(t,this)}succ(){let t=this;if(t.rc)for(t=t.rc;t.lc;)t=t.lc;else{for(;i.isRC(t);)t=t.parent;t=t.parent}return t}}e.BinNode=i,i.N=0},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(1),i=r(3);class n extends s.BinTree{connect34(t,e,r,s,i,n,o){return this.reAttachAsLC(t,s),this.reAttachAsRC(t,i),this.update_height(t),this.reAttachAsLC(r,n),this.reAttachAsRC(r,o),this.update_height(r),this.reAttachAsLC(e,t),this.reAttachAsRC(e,r),this.update_height(e),e}rotateAt(t){let e=t.parent,r=e.parent,s=r.parent,n=i.BinNode.isLC(r);return(t=i.BinNode.isLC(e)?i.BinNode.isLC(t)?this.connect34(t,e,r,t.lc,t.rc,e.rc,r.rc):this.connect34(e,t,r,e.lc,t.lc,t.rc,r.rc):i.BinNode.isLC(t)?this.connect34(r,t,e,r.lc,t.lc,t.rc,e.rc):this.connect34(r,e,t,r.lc,e.lc,t.lc,t.rc)).parent=s,s&&(n?s.lc=t:s.rc=t),t}search(t){let e=this._root;for(this._hot=null;e&&e.data!=t;)this._hot=e,e=t<e.data?e.lc:e.rc;return e}insert(t){let e=this.search(t);return e||(e=new i.BinNode(t,this._hot),this._size++,this._root?t<this._hot.data?this._hot.lc=e:this._hot.rc=e:this._root=e,this.update_height_above(e),e)}removeAt(t){let e=t;return t.lc&&t.rc?(e=e.succ(),t.data=e.data,t=e.rc):t=t.lc,this._hot=e.parent,t&&(t.parent=this._hot),this._hot?i.BinNode.isLC(e)?this._hot.lc=t:this._hot.rc=t:this._root=t,t}remove(t){let e=this.search(t);return!!e&&(this.removeAt(e),this._size--,this.update_height_above(this._hot),!0)}static genSampleTree(){let t=new n(4),e=t.insertAsLC(t.root(),2);return t.insertAsLC(e,1),t.insertAsRC(e,3),e=t.insertAsRC(t.root(),6),t.insertAsLC(e,5),t.insertAsRC(e,7),t}}e.BST=n,window.BST=n}]);